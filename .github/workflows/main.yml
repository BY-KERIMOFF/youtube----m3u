- name: Commit and push
  run: |
    git config user.name "GitHub Action"
    git config user.email "action@github.com"
    git add m3u8/*.m3u8 || echo "No m3u8 files to add"
    if git diff --cached --quiet; then
      echo "No changes to commit"
    else
      git commit -m "Auto update m3u8 files"
      git push
    fi
  env:
    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
